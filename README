Sorry guys for greek! Later on will be in English! ;)

λίγα λόγια για το προτζεκτ

αρχικά αυτό που έκανα ήταν να φτιάξω ένα πολύ απλό servlet σαν αυτό που είχαμε κάνει στο HW2 το όποιο να είχε ένα text field και να περνώ σαν input το amount που ήθελα να μετατραπεί σε ευρώ , η τιμή που είχα βάλει για ισοτιμία ήταν στην αρχή σταθερή και το μόνο που έκανε το πρόγραμμα ήταν να κάνει τον πολλαπλασιασμό και να επιστρέφει σε μια νέα σελίδα το αποτέλεσμα.

Σαν επόμενο βήμα ασχολήθηκα με την static ip το όποιο αυτό με παίδεψε λίγο καθώς είχα προβλήματα με το antivirus καθώς δεν απενεργοποιούταν και δεν έκλεινε το δικό του firewall. Ευτυχώς το router μου είχε αρκετό φιλικό interface και δεν μου πηρέ πολύ χρόνο να προωθήσω τις 8080 και 8086 που ήθελα. Μόλις το κατάφερα ξεκίνησα τον tomcat και είδα ότι δούλευε και αυτή η εφαρμογή αλλά και η προηγούμενη που είχα φτιάξει για το HW2.

επόμενο βήμα αρχικά ήταν να ψάχνω πως θα μπορούσα να κάνω την εφαρμογή μου να κάνει live update με τα συναλλάγματα αλλά και πως θα μπορούσα να είχα και αλλά εκτός του δολαρίου. Αρχικά βρήκα διαφορές πληροφορίες για ένα API της ΥΑΗΟΟ. Το όποιο ήθελε κάποιες jar βιβλιοθήκες τις οποίες βρήκα τις έβαλα κάτω από το lib αλλά είχα διάφορα προβλήματα και έπειτα βρήκα ότι γενικά είχε αλλάξει η yahoo το πώς Επερνέ τα input και γιατί δεν δούλευε.

Έπειτα βγήκε το ποστ για τα tips και το ποιο ενδιαφέρον μου φάνηκε αυτό με το xml και το JDOM. Όταν το ξεκίνησα δεν φαντάστηκα ότι θα με παίδευε τόσο , από το root elementt δυσκολευόμουν να κατέβω στα υπόλοιπα. Έφτιαξα ένα άλλο xml to όποιο διάβαζε κανονικά το πρόγραμμα μου. Το πρόβλημα τελικά με το http://www.ecb.int/stats/eurofxref/eurofxref-daily.xml ήταν ότι δεν ήταν απλό .xml αλλά βασιζόταν σε namespaces που βρισκόταν στο xmln . μου πηρέ λίγο χρόνο να βρω πως θα διαβάσω αλλά κατάφερα και τα εκτύπωνα στο τέλος. Έπειτα έκανα τις κατάλληλες περικοπές στα string που έπαιρνα και το ενσωμάτωσα μέσα στο servlet μου.

Εφόσον τώρα διάβαζα όλο το xml μπορούσα να χειριστώ και πολλές περισσότερες ισοτιμίες και έτσι πρόσθεσα ένα select option ώστε ο χρήστης να επιλεγεί από τι νόμισμα θα ήθελε να μετατραπεί σε ευρώ.
Έπειτα χειρίστηκα τα 2 values που Έπαιρνα κατάλληλα ώστε να επιστρέφω την σωστή τιμή. Τέλος έταξα ένα μικρό αρχείο .css για το background κ.λπ.

Σαν τελικό βήμα αυτό που έκανα ήταν να βάλω δυο option ώστε να μην περιοριζόμαστε μόνο στο ευρώ αλλά να έχουμε την δυνατότητα μετατρόπης κάθε άλλου νομίσματος μεταξύ οποιοδήποτε άλλου.
p.s. η εφαρμογή δουλεύει και για . Και για , για να χωρίσει τους δεκαδικούς.
Περισσότερα για το προτζεκτ

Το προτζεκτ βασίζετε σε ένα servlet to CurrencyConverter.java το όποιο κάνει parsing ένα xml κώδικα Apo to http://www.ecb.int/stats/eurofxref/eurofxref-daily.xml το όποιο δυσκολεύτηκα να το κάνω parsing αλλά βρήκα ένα κομμάτι κώδικα από το http://www.java-forum.org/xml-co/115149-xml-parsen-jdom-nullpointerecxeption.html το όποιο δεν ήταν αρκετό γιατί διάβαζε και άλλους dummy χαραχτήρες και έτσι αναγκαστικά να το τροποποιήσω σε μια δίκια μου συνάρτηση την void readxml(). Έπειτα ότι διαβάζαμε αποθηκευόταν σε ένα πινάκα με currencies έπειτα για να επιλεγεί το σωστό currency και να επιστραφεί η ισοτιμία του έφτιαξα την συνάρτηση void isotimia() pou κάνει διαφόρους ελέγχους με βάση τα ορίσματα από την html και επιστρέφει την σωστή ισοτιμία κάθε φορά. Αυτές οι δυο συναρτήσεις βρίσκονται στο αρχείο CurrencyConverter.java

Λίγα λόγια για το κουμπί ( ? ) 

Έπειτα για να φτιάξω το redirect το έκανα με listener , για την ακρίβεια έβαλα το λινκ /doc.html μέσα στο web.xml και έπειτα μέσα από μια κλάση listener έφτιαχνα την κλάση Doc στην όποια αποθήκευα το λινκ σαν string.

Λίγα λόγια για το κουμπί ( SRC )

Απλά ένα λινκ προς μια διεύθυνση ενός public αρχειου μέσα στον dropbox φάκελο μου.

Επίσης η εργασία μου βρίσκετε και στο GitHub και είναι έτοιμη για fork στην διεύθυνση

https://github.com/berkos/Currency-Converter
Berkakis Antonis